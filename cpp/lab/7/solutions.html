<link rel='stylesheet' href='../../pagescss/normalize.css'/> 
<link rel='stylesheet' href='../../pagescss/markdown.css'/>

<link rel='stylesheet' href='../../pagescss/syntax.css'/>
<link rel='stylesheet' href='../../pagescss/term.css'/>
<p><title>Lab 7. ADT </title></p>

<h1>Lab 7. ADT</h1>

<p>Note that there was a bug in the second test for the function <code>assign</code>.
This program has this test fixed.</p>

<pre class="highlight"><code><span class="cm">/*
    Author:
    Description:
*/</span>

<span class="cp">#include &lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// The employees at a certain software development company
</span><span class="k">enum</span> <span class="n">Programmer</span> <span class="p">{</span><span class="n">Alice</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Bob</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">Carol</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">Dave</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">Eve</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">Frank</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">Grace</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">UNASSIGNED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">};</span>

<span class="c1">// Constants
</span><span class="k">const</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">24</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">NOT_FOUND</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

<span class="cm">/*
      The Scheduler Class
      -------------------
      &gt;&gt;&gt; The CEO wants this functionality to be implemented today!
      The scheduler helps assigning the employees to do their work.

    - It implements a schedule for one working day.

    - A day is divided into 24 one-hour long time slots.

    - Only one employee can be assigned to work per time slot.

    - According to the local labor laws, an employee cannot be scheduled
      to work for more than 12 hours in total per day (for example, two
      disjoint intervals of 7 hours are prohibited, because 7+7 &gt; 12).
*/</span>

<span class="k">class</span> <span class="nc">Scheduler</span> <span class="p">{</span>
    <span class="n">Programmer</span> <span class="n">timetable</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>

<span class="k">public</span><span class="o">:</span>
      <span class="c1">// Sets the schedule to UNASSIGNED for all time slots
</span>    <span class="kt">void</span> <span class="n">init</span><span class="p">();</span>

      <span class="c1">// Returns who is assigned to work in the time slot t.
</span>      <span class="c1">// If t is out of bounds [0,N-1], return UNASSIGNED
</span>    <span class="n">Programmer</span> <span class="n">get</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">);</span>

      <span class="c1">// Assigns the programmer to the time interval if the entire interval is vacant.
</span>      <span class="c1">// The interval must have positive duration (duration &gt; 0).
</span>      <span class="c1">// Returns true if succeeds, otherwise returns false.
</span>    <span class="n">bool</span> <span class="n">assign</span><span class="p">(</span><span class="n">Programmer</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">duration</span><span class="p">);</span>

      <span class="c1">// Cancel all time assignments for the Programmer `name`.
</span>    <span class="kt">void</span> <span class="n">cancel</span><span class="p">(</span><span class="n">Programmer</span> <span class="n">name</span><span class="p">);</span>

      <span class="c1">// Searches for a vacant time interval of length `duration`,
</span>      <span class="c1">// returns the starting time if it finds such an interval,
</span>      <span class="c1">// otherwise returns NOT_FOUND.
</span>    <span class="kt">int</span> <span class="n">find_interval</span><span class="p">(</span><span class="kt">int</span> <span class="n">duration</span><span class="p">);</span>

<span class="p">};</span>


<span class="cm">/* Unit tests */</span>
<span class="n">bool</span> <span class="n">test_init</span><span class="p">();</span>
<span class="n">bool</span> <span class="n">test_get</span><span class="p">();</span>
<span class="n">bool</span> <span class="n">test_assign</span><span class="p">();</span>
<span class="n">bool</span> <span class="n">test_cancel</span><span class="p">();</span>
<span class="n">bool</span> <span class="n">test_find</span><span class="p">();</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="c1">// Testing
</span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">test_init</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">test_get</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">test_assign</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">test_cancel</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">test_find</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"PASSED"</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"FAILED"</span><span class="p">;</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>


<span class="cm">/***************** Scheduler Implementation ******************/</span>

<span class="kt">void</span> <span class="n">Scheduler</span><span class="o">::</span><span class="n">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNASSIGNED</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">Programmer</span> <span class="n">Scheduler</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">&gt;=</span> <span class="n">N</span> <span class="o">||</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">UNASSIGNED</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">timetable</span><span class="p">[</span><span class="n">t</span><span class="p">];</span>
<span class="p">}</span>

<span class="n">bool</span> <span class="n">Scheduler</span><span class="o">::</span><span class="n">assign</span> <span class="p">(</span><span class="n">Programmer</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dur</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">start</span> <span class="o">+</span> <span class="n">dur</span> <span class="o">&gt;</span> <span class="n">N</span> <span class="o">||</span> <span class="n">dur</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>

    <span class="c1">// check that the interval is vacant
</span>    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">+</span> <span class="n">dur</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">UNASSIGNED</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// check that the programmer would not work &gt; 12 hours
</span>    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span> <span class="n">count</span> <span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">+</span> <span class="n">dur</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>

    <span class="c1">// the interval is valid
</span>    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">+</span> <span class="n">dur</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Scheduler</span><span class="o">::</span><span class="n">cancel</span> <span class="p">(</span><span class="n">Programmer</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
            <span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">UNASSIGNED</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">Scheduler</span><span class="o">::</span><span class="n">find_interval</span> <span class="p">(</span><span class="kt">int</span> <span class="n">dur</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">-</span> <span class="n">dur</span><span class="p">;</span> <span class="n">start</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">+</span> <span class="n">dur</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">timetable</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">UNASSIGNED</span><span class="p">)</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">start</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">NOT_FOUND</span><span class="p">;</span>
<span class="p">}</span>


<span class="cm">/***************** Unit Tests ******************/</span>

<span class="n">bool</span> <span class="n">test_init</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Testing init:</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>

    <span class="n">bool</span> <span class="n">passed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="c1">// Test: check that all time slots become UNASSIGNED
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">passed</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">bool</span> <span class="n">test_get</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Testing get:</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>

    <span class="n">bool</span> <span class="n">passed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="c1">// Test: test that get out of bounds return UNASSIGNED
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="c1">// when i &lt; 0
</span>        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="o">-</span><span class="n">N</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

        <span class="c1">// when i &gt;= N
</span>        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">passed</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">bool</span> <span class="n">test_assign</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Testing assign:</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>

    <span class="n">bool</span> <span class="n">passed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="c1">// Test 1: assigning a valid interval
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="n">bool</span> <span class="n">result</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Alice</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Alice</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">11</span><span class="p">));</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="o">+</span><span class="mi">6</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">Alice</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Test 2: assigning an out of bound or negative or zero-length interval
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="n">bool</span> <span class="n">result</span> <span class="o">=</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1</span><span class="p">,</span>   <span class="mi">5</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span>   <span class="mi">1</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span>  <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span> <span class="n">N</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span>   <span class="mi">3</span><span class="p">)</span> <span class="o">||</span> 
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span> <span class="n">N</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span>  <span class="mi">10</span><span class="p">)</span> <span class="p">;</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">false</span> <span class="o">==</span> <span class="n">result</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Test 3: assigning to a non-vacant interval
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="kt">int</span> <span class="n">result1</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Carol</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Dave</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result1</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">result2</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Eve</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">false</span> <span class="o">==</span> <span class="n">result2</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">Carol</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">Dave</span>       <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
            <span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Test 4: assigning to a non-vacant interval - overlaping with the same Programmer
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="kt">int</span> <span class="n">result1</span> <span class="o">=</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result1</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">result2</span> <span class="o">=</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">||</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">||</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">||</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">false</span> <span class="o">==</span> <span class="n">result2</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>  <span class="o">&amp;&amp;</span>
                <span class="n">Frank</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">Frank</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">Frank</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">Frank</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
            <span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Test 5: assigning in total more than 12 hours to a single programmer
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="kt">int</span> <span class="n">result1</span> <span class="o">=</span>
            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span>  <span class="c1">// 1
</span>            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span>  <span class="c1">// 4,5
</span>            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span>  <span class="c1">// 9,10
</span>            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span>  <span class="c1">// 6,7
</span>            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span>  <span class="c1">// 8
</span>            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="c1">// 12,13,14
</span>            <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>    <span class="c1">// 17
</span>            <span class="p">;</span>

        <span class="kt">int</span> <span class="n">result2</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">false</span> <span class="o">==</span> <span class="n">result2</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">passed</span><span class="p">;</span>

<span class="p">}</span>


<span class="n">bool</span> <span class="n">test_cancel</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Testing cancel:</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>

    <span class="n">bool</span> <span class="n">passed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="c1">// Test: you can cancel job assignments
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="kt">int</span> <span class="n">result1</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">result2</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Grace</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">result3</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Frank</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">s</span><span class="p">.</span><span class="n">cancel</span><span class="p">(</span><span class="n">Frank</span><span class="p">);</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result2</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nb">true</span> <span class="o">==</span> <span class="n">result3</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="n">Grace</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="n">Grace</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">11</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="n">Grace</span>      <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
            <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">18</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">passed</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">bool</span> <span class="n">test_find</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Testing find:</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>

    <span class="n">bool</span> <span class="n">passed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="c1">// Test: finding an existing interval
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Alice</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Alice</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">find_interval</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">NOT_FOUND</span> <span class="o">!=</span> <span class="n">start</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">start</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">UNASSIGNED</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Test: when such ah interval does not exist
</span>    <span class="p">{</span>
        <span class="n">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="n">Scheduler</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>

        <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Alice</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Bob</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">s</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Alice</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">find_interval</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">NOT_FOUND</span> <span class="o">==</span> <span class="n">start</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"pass "</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fail "</span><span class="p">;</span> <span class="p">}</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="n">passed</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">passed</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>




<pre class = "terminal"><code>
Testing init:   pass 
Testing get:    pass 
Testing assign: pass pass pass pass pass 
Testing cancel: pass 
Testing find:   pass pass 

PASSED

</code></pre>



